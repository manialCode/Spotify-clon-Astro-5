---
import { pathHasLocale } from "astro:i18n";
import Home from "@/icons/Home.astro";
import Library from "@/icons/Library.astro";
import Search from "@/icons/Search.astro";
import { PlaylistItemCard } from "./PlaylistItemCard";

import SideMenuItem from "./SideMenuItem.astro";

import { playlists } from "@/lib/data";
---

<nav class="flex flex-col flex-1 gap-2">
  <div class="bg-zinc-900 rounded-lg p-2">
    <ul>
      <SideMenuItem href="/">
        <Home />
        Inicio
      </SideMenuItem>
      <SideMenuItem href="#">
        <Search />
        Buscar
      </SideMenuItem>
    </ul>
  </div>
  <div class="bg-zinc-900 rounded-lg p-2 flex-1">
    <ul>
      <SideMenuItem href="#">
        <Library />
        Tu Biblioteca
      </SideMenuItem>
      {
        playlists.map((playlist) => (
          <PlaylistItemCard client:load playlist={playlist} />
        ))
      }
    </ul>
  </div>
</nav>

<style is:global>
  .after-img {
    @apply after:absolute after:bg-black/40 after:opacity-0 after:z-0 after:group-hover:opacity-100 after:transition duration-300 after:block after:rounded-md after:inset-2 after:w-12 after:h-12;
  }
</style>
